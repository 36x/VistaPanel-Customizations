/*!
* Project: VistaPanel Notifications
* Version: 1.0.0
* Description: Allows you to send push notifications to user who is logged in to vPanel
* Author: Wybe Network (https://wybenetwork.com/)
* Created: AADev (October 16th, 2022)
* Updated: AADev (October 16th, 2022)
* Docs: https://docs.wybenetwork.com/
*
* DO NOT REMOVE CREDITS
* */ class vPanelNotifications{#a;#b;#c;#d;#e;#f;#g;#h;constructor(i={}){if(this.#a=i.id,this.#b=i.title,this.#c=i.icon,this.#d=i.desc,this.#g=i.action,this.#e=i.lang,this.#f=i.dir,this.#h=i.interval,!this.#b||!this.#d||!this.#a)throw"Missing Required Options";this.#i()}#j(){let i={body:this.#d,icon:this.#c,vibrate:!0};this.#e&&(i.lang=this.#e),this.#f&&(i.dir=this.#f);let t=new Notification(this.#b,i);this.#g&&t.addEventListener("click",()=>{window.open(this.#g,"_blank")}),localStorage.setItem("wnNotification",this.#a),setTimeout(()=>{t.close()},this.#h??1e4)}#i(){let s=localStorage.getItem("wnNotification");if(s!==this.#a){if("Notification"in window){if("granted"===Notification.permission)this.#j();else if("denied"!==Notification.permission)Notification.requestPermission().then(i=>{"granted"===i&&this.#j()});else throw"Permissions denied for notifications"}else throw"Browser Doesn't Support Notifications"}}}