/*!
* Project: Theme Switcher
* name: theme-switcher.js
* Version: 2.0.0
* Description: Allows you to add an option in your MyOwnFreeHost vPanel to allow users to switch to any theme that they want
* Author: Wybe Network
* Author URL: https://wybenetwork.com/
* Created at: October 14th, 2022
* Created by: AADev
* Docs: https://docs.wybenetwork.com/
*
* DO NOT REMOVE CREDITS
* */ class ThemeSwitcher{#a;#b;#c;#d="";constructor(e,t={baseURL:"https://vpt.cdn.wybenetwork.com/",position:"bottom"}){this.#a=t.position?t.position:"bottom",this.#c=e,this.#b=t.baseURL?t.baseURL:"https://vpt.cdn.wybenetwork.com/";let i=document.cookie.match(RegExp("(^| )wnCurTheme=([^;]+)"));i?(this.#d=i[2],this.setActiveStyle(this.#d)):(t.default&&Object.entries(t.default).forEach(([e,t])=>{this.#d=`${e}___${t}`,this.setActiveStyle(this.#d)}),this.#d="Default"),document.addEventListener("readystatechange",e=>{"complete"===e.target.readyState&&this.insertElement()})}#e(){let e='<form><select id="wn-theme-switcher" onchange="wnThemeSwitcher.setActiveStyle(value);" name="ext">';"Default"===this.#d&&(e+='<option value="Default___Normal" disabled selected>Default</option>'),Object.entries(this.#c).forEach(([t,i])=>{e+=`<option value="${t}___${i.type}" ${t+"___"+i.type===this.#d?"selected":""}>${i.title}</option>`}),e+="</select></form>",document.getElementById("content").insertAdjacentHTML("beforeend",e)}#f(){let t=document.createElement("style");t.innerHTML=`
        #wnThemeSwitcher #lnkUserPrefChangePwd:before {
            content: "\\f1fc"!important;
        }
        `,document.head.appendChild(t);let i=document.getElementById("lnkUserPrefChangeLang").parentElement,s=document.createElement("li");s.setAttribute("id","wnThemeSwitcher");let n=document.createElement("a");n.setAttribute("id","lnkUserPrefChangePwd"),n.setAttribute("href","#"),n.setAttribute("onclick","wnThemeSwitcher.themeOptions();"),n.innerHTML="Change Theme",s.appendChild(n),i.parentNode.insertBefore(s,i.nextSibling)}themeOptions(){let e=document.getElementById("lnkUserPrefChangeLang").parentElement.parentElement,t=document.createElement("ul");t.setAttribute("id","wnThemeSwitcherOptions"),t.setAttribute("class","dropdown-menu dropdown-menu-right"),t.setAttribute("style","display: block;");let i="";Object.entries(this.#c).forEach(([e,t])=>{i+=`<li><a href="#" onclick="wnThemeSwitcher.setActiveStyle('${e}___${t.type}')">${t.title}</a></li>`}),t.innerHTML=i,e.parentNode.insertBefore(t,e.nextSibling)}insertElement(){"bottom"===this.#a?this.#e():"usernav"===this.#a&&this.#f()}setActiveStyle(e){let t=e.split("___")[0],i=e.split("___")[1],s={url:this.#b+t+"/"},n=document.cookie.match(RegExp("(^| )wnCurTheme=([^;]+)"));if(n)try{document.getElementById(n[2]).remove(),document.getElementById(n[2]+"___icon").remove()}catch(r){console.log(r)}let l;switch(i){case"Normal":s.url+="styles.css",s.icon=this.#b+t+"/icon_spritemap.css",l=`<link id="${e}" rel="stylesheet" type="text/css" href="${s.url}" /><link id="${e}___icon" rel="stylesheet" type="text/css" href="${s.icon}" />`;break;case"Special":s.url+="panel.css",l=`<link id="${e}" rel="stylesheet" type="text/css" href="${s.url}" />`;break;case"Lite":s.url+="styles.css",l=`<link id="${e}" rel="stylesheet" type="text/css" href="${s.url}" />`;break;default:console.log("No Custom Theme Loaded!")}document.head.insertAdjacentHTML("beforeend",l);let h=new Date;if(h.setTime(h.getTime()+31536e7),document.cookie=`wnCurTheme=${e}; expires=${h}; path=/`,"usernav"===this.#a)try{document.getElementById("wnThemeSwitcherOptions").remove()}catch(o){console.log(o)}}}