/*!
* Project: Theme Switcher
* Version: 2.0.0
* Description: Allows you to add an option in your MyOwnFreeHost vPanel to allow users to switch to any theme that they want
* Author: Wybe Network (https://wybenetwork.com/)
* Created at: October 14th, 2022
* Created by: AADev
* Thanks to PlanetCloud for Code Optimization tips
* Docs: https://docs.wybenetwork.com/
*
* DO NOT REMOVE CREDITS
* */ class ThemeSwitcher{#a;#b;#c;#d="";constructor(e,t={baseURL:"https://vpt.cdn.wybenetwork.com/",position:"bottom"}){this.#c=e,this.#a=t.position?t.position:"bottom",this.#b=t.baseURL?t.baseURL:"https://vpt.cdn.wybenetwork.com/";let i=document.cookie.match(RegExp("(^| )wnCurTheme=([^;]+)"));this.#d=i?i[2]:t.default?`${t.default.dir}___${t.default.type}`:"Default",(i||t.default)&&this.setActiveStyle(this.#d),this.#d="Default",document.addEventListener("readystatechange",e=>{"complete"===e.target.readyState&&this.insertElement()})}#e(){let e='<form><select id="wn-theme-switcher" onchange="wnThemeSwitcher.setActiveStyle(value);" name="ext">';e+="Default"===this.#d?'<option value="Default___normal" disabled selected>Default</option>':"",this.#c.forEach(t=>{e+=`<option value="${t.dir}___${t.type}" ${t.dir+"___"+t.type===this.#d?"selected":""}>${t.title}</option>`}),e+="</select></form>",document.getElementById("content").insertAdjacentHTML("beforeend",e)}#f(){let t=document.createElement("style");t.innerHTML=`
        #wnThemeSwitcher #lnkUserPrefChangePwd:before {
            content: "\\f1fc"!important;
        }
        `,document.head.appendChild(t);let i=document.getElementById("lnkUserPrefChangeLang").parentElement,n=document.createElement("li");n.setAttribute("id","wnThemeSwitcher");let s=document.createElement("a");s.setAttribute("id","lnkUserPrefChangePwd"),s.setAttribute("href","#"),s.setAttribute("onclick","wnThemeSwitcher.themeOptions();"),s.innerHTML="Change Theme",n.appendChild(s),i.parentNode.insertBefore(n,i.nextSibling)}themeOptions(){let e=document.getElementById("lnkUserPrefChangeLang").parentElement.parentElement,t=document.createElement("ul");t.setAttribute("id","wnThemeSwitcherOptions"),t.setAttribute("class","dropdown-menu dropdown-menu-right"),t.setAttribute("style","display: block;");let i="";this.#c.forEach(e=>{i+=`<li><a href="#" onclick="wnThemeSwitcher.setActiveStyle('${e.dir}___${e.type}')">${e.title}</a></li>`}),t.innerHTML=i,e.parentNode.insertBefore(t,e.nextSibling)}insertElement(){"bottom"===this.#a?this.#e():"usernav"===this.#a&&this.#f()}setActiveStyle(e){let t=e.split("___"),i=t[0],n=t[1],s=document.cookie.match(RegExp("(^| )wnCurTheme=([^;]+)"));if(s)try{document.getElementById(s[2]).remove(),document.getElementById(s[2]+"___icon").remove()}catch(r){console.log(r)}let l=`<link id="${e}" rel="stylesheet" type="text/css" href="${this.#b+i}/${"special"===n?"panel.css":"styles.css"}" />${"normal"===n?`<link id="${e}___icon" rel="stylesheet" type="text/css" href="${this.#b+i}/icon_spritemap.css" />`:""}`;document.head.insertAdjacentHTML("beforeend",l);let o=new Date;if(o.setTime(o.getTime()+31536e7),document.cookie=`wnCurTheme=${e}; expires=${o}; path=/`,"usernav"===this.#a)try{document.getElementById("wnThemeSwitcherOptions").remove()}catch(h){console.log(h)}}}